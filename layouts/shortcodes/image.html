{{/* Image Shortcode Creates responsive images with customizable frame height and object positioning. Usage: {{< image src="/images/garden.jpg" alt="Beautiful garden" />}} {{< image src="/images/portrait.jpg" alt="Portrait" height="400px" position="top" />}} {{< image src="/images/landscape.jpg" alt="Landscape" height="60vh" position="center bottom" class="rounded-lg shadow-lg" />}} {{< image src="/images/portrait.jpg" alt="Portrait" maxWidth="400px" align="center" />}} {{< image src="/images/portrait.jpg" alt="Portrait" float="right" caption="Portrait description" />}} {{< image src="/images/garden.jpg" alt="Garden" background="true" />}} Parameters: - src: Image source URL (required) - alt: Alt text for accessibility (required) - height: Frame height (optional, defaults to "300px") - position: CSS object-position value (optional, defaults to "center") - class: Additional CSS classes (optional) - width: Frame width (optional, defaults to "100%") - maxWidth: Maximum width constraint (optional) - align: Alignment - left, center, right (optional, defaults to "left") - float: Float the image - left, right (optional) - caption: Caption text (optional) - background: Add subtle background styling (optional, defaults to "false") The image will maintain its aspect ratio and be cropped to fit the specified frame dimensions. */}} {{- $src := .Get "src" -}} {{- $alt := .Get "alt" -}} {{- $height := .Get "height" | default "300px" -}} {{- $position := .Get "position" | default "center" -}} {{- $width := .Get "width" | default "100%" -}} {{- $maxWidth := .Get "maxWidth" -}} {{- $align := .Get "align" | default "left" -}} {{- $class := .Get "class" | default "" -}} {{- $caption := .Get "caption" -}} {{- $background := .Get "background" | default "false" -}} {{- if not $src -}} {{- errorf "Image shortcode requires 'src' parameter" -}} {{- end -}} {{- if not $alt -}} {{- errorf "Image shortcode requires 'alt' parameter for accessibility" -}} {{- end -}} {{- $alignClass := "" -}} {{- if eq $align "center" -}} {{- $alignClass = "mx-auto" -}} {{- else if eq $align "right" -}} {{- $alignClass = "ml-auto" -}} {{- end -}} {{- $maxWidthClass := "" -}} {{- $maxWidthStyle := "" -}} {{- if $maxWidth -}} {{- if or (eq $maxWidth "xs") (eq $maxWidth "sm") (eq $maxWidth "md") (eq $maxWidth "lg") (eq $maxWidth "xl") (eq $maxWidth "2xl") (eq $maxWidth "3xl") (eq $maxWidth "4xl") (eq $maxWidth "5xl") (eq $maxWidth "6xl") (eq $maxWidth "7xl") -}} {{- $maxWidthClass = printf "max-w-%s" $maxWidth -}} {{- else -}} {{- $maxWidthStyle = printf "max-width: %s;" $maxWidth -}} {{- end -}} {{- end -}} {{- if eq $background "true" -}}
<div class="my-8 w-full rounded-sm bg-stone-50 py-8">
  <figure class="mx-auto {{ $maxWidthClass }}" style="{{ $maxWidthStyle }}">
    <div class="overflow-hidden {{ $class }}" style="height: {{ $height }};">
      <img src="{{ $src }}" alt="{{ $alt }}" class="h-full w-full object-cover" style="object-position: {{ $position }};" />
    </div>
    {{- if $caption -}}
    <figcaption class="mt-2 text-center text-base italic text-gray-600 sm:text-lg">{{ $caption }}</figcaption>
    {{- end -}}
  </figure>
</div>
{{- else -}}
<figure class="{{ $alignClass }} {{ $maxWidthClass }}" style="width: {{ $width }}; {{ $maxWidthStyle }}">
  <div class="overflow-hidden {{ $class }}" style="height: {{ $height }};">
    <img src="{{ $src }}" alt="{{ $alt }}" class="h-full w-full object-cover" style="object-position: {{ $position }};" />
  </div>
  {{- if $caption -}}
  <figcaption class="mt-2 text-base italic text-gray-600 sm:text-lg">{{ $caption }}</figcaption>
  {{- end -}}
</figure>
{{- end -}}
