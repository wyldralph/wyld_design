<section class="mb-12">
  <h2 class="py-8 font-serif text-xl text-green-900 sm:py-12 sm:text-2xl md:text-3xl">Recent Wyld Design transformations</h2>

  <!-- Mobile: Swipeable cards / Desktop: 3 vertical columns -->
  <div class="scrollbar-hide overflow-x-auto md:grid md:grid-cols-3 md:gap-12 md:overflow-visible">
    <div class="flex gap-4 px-4 pb-4 md:contents">
      {{ $portfolioPages := where (where .Site.Pages "Section" "portfolio") "Kind" "page" }} {{ $featuredPortfolio := where $portfolioPages "Params.weight" ">" 0 }} {{ $sortedPortfolio := $featuredPortfolio.ByWeight }} {{ range first 3 $sortedPortfolio }}
      <article class="group w-[280px] flex-shrink-0 md:w-auto">
        <a href="{{ .Permalink }}" class="relative block overflow-hidden rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl">
          {{ $image := .Params.featured_image | default "/images/verbena.jpeg" }}
          <img src="{{ $image }}" alt="{{ .Title }}" class="h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105 md:h-64" loading="lazy" />

          <!-- Overlay - always visible on mobile, hover on desktop -->
          <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent md:opacity-0 md:transition-opacity md:duration-300 md:group-hover:opacity-100"></div>

          <!-- Title overlay -->
          <div class="absolute bottom-0 left-0 right-0 p-4 md:translate-y-2 md:transition-transform md:duration-300 md:group-hover:translate-y-0">
            <h3 class="mb-1 font-serif text-lg font-semibold text-white md:text-xl md:opacity-0 md:transition-opacity md:delay-100 md:duration-300 md:group-hover:opacity-100">{{ .Title }}</h3>
            <p class="text-sm text-white/80 md:opacity-0 md:transition-opacity md:delay-150 md:duration-300 md:group-hover:opacity-100">{{ .Params.location }}</p>
          </div>
        </a>
      </article>
      {{ end }}
    </div>
  </div>

  <div class="py-12 text-center">
    <a href="/portfolio" class="hover:text-studiopink-100 inline-block rounded-full border border-gray-900 px-8 py-4 font-serif text-lg text-green-900 shadow-lg shadow-gray-900/10 transition-all duration-300 hover:-translate-y-0.5 hover:bg-green-900 hover:shadow-xl hover:shadow-gray-900/15 focus:outline-none focus:ring-4 focus:ring-green-900/20 focus:ring-offset-2">Find inspiration in my portfolio</a>
  </div>
</section>
